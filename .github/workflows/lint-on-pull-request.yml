# This workflow runs the linter on every pull request to ensure code quality and consistency.
# It triggers on pull request events, sets up the environment, installs dependencies, and runs the linter.
# Node.js and pnpm are used for dependency management and running scripts.
# This helps catch linting errors before merging code into the main branch.
# The workflow is automated to maintain code standards across contributions.

name: Lint on pull request

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      # Checks out the repository so workflow can access and modify files.
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          ref: ${{ github.head_ref }}

      # Sets up the specified Node.js version for running scripts and pnpm.
      - name: Set up Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '22'

      # Installs the latest version of pnpm for package management.
      - name: Setup pnpm
        uses: pnpm/action-setup@v4
        with:
          version: latest

      # Installs all project dependencies using pnpm.
      - name: Install dependencies
        run: pnpm install

      # Runs the linter to check for code style and quality issues.
      - name: Run linter
        run: pnpm lint
